.TH "hpc\-config\-apply (1)" "" "" "" ""
.SH NAME
.PP
hpc\-config\-apply \- download and apply a puppet\-hpc configuration
.SH SYNOPSIS
.IP
.nf
\f[C]
hpc\-config\-apply\ [\-h]\ [\-\-dry\-run]\ [\-\-config\ [CONFIG_FILE]]
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\-\-source\ [SOURCE]]\ [\-\-environment\ [ENVIRONMENT]]
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\-\-tmpdir\ [TMPDIR]]
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\-\-deploy\-step\ [{production,usbdisk}]]
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\-\-keys\-source\ [KEYS_SOURCE]]\ [\-\-tags\ [TAGS]]
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\-\-verbose]
\f[]
.fi
.SH DESCRIPTION
.PP
hpc\-config\-apply downloads a Puppet configuration and all the related
files via HTTP and applies this configuration on a cluster node.
.SH OPTIONS
.PP
\-h, \-\-help show this help message and exit \-\-dry\-run Don\[aq]t
actually perform configuration (still downloads env).
\-\-config [CONFIG_FILE], \-c [CONFIG_FILE] Configuration file
\-\-source [SOURCE], \-s [SOURCE] Configuration source URL
\-\-environment [ENVIRONMENT], \-e [ENVIRONMENT] Environment name
\-\-tmpdir [TMPDIR], \-t [TMPDIR] Change TMPDIR env for puppet run.
\-\-deploy\-step [{production,usbdisk}], \-d [{production,usbdisk}]
Deploy step \-\-keys\-source [KEYS_SOURCE], \-k [KEYS_SOURCE] Secret
keys source \-\-tags [TAGS] Puppet tags (comma separated list)
\-\-verbose, \-v More output, can be specified multiple times.
.SH CONFIGURATION FILE
.PP
The default configuration file is installed at
\f[C]/etc/hpc\-config.conf\f[] and it is a simple text file using the
INI file format (http://en.wikipedia.org/wiki/INI_file).
This file has a basic structure composed of sections, properties, and
values.
The lines starting with a semi\-colon are commentaries and they\[aq]re
ignored.
Each section describes an environment, the \[aq][DEFAULT]\[aq] section
is used when no environment is specified via the \[aq]\-e\[aq] option.
In each section, each option of the command line can be defined (except
config file).
Here is an example of a typical file with only a \[aq][DEFAULT]\[aq]
section:
.IP
.nf
\f[C]
[DEFAULT]
environment=production
source=http://masternode/hpc\-config
keys_source=http://masternode/secret
\f[]
.fi
.SH EXAMPLES
.PP
To simply apply the default puppet environment:
.IP
.nf
\f[C]
hpc\-config\-apply
\f[]
.fi
.PP
To apply the \[aq]test\[aq] environment in verbose mode:
.IP
.nf
\f[C]
hpc\-config\-apply\ \-v\ \-e\ test
\f[]
.fi
.SH SEE ALSO
.PP
hpc\-config\-push(1)
